<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>title</title>
  </head>
  <body>
    <span class="pageTurner">
        <span class="pageTurnerElement pageTurnerPage">
            Test 1
            <span class="pageTurnerNextButton">Weiter</span>
        </span>
        <span class="pageTurnerElement pageTurnerPage1">
            Test 2
            <span class="pageTurnerPreviousButton">Zurück</span>
            <span class="pageTurnerNextButton">Weiter</span>
        </span>
        <span class="pageTurnerElement pageTuenerPage2">
            Test 3
            <span class="pageTurnerPreviousButton">Zurück</span>
            
        </span>
    </span>

  </body>
</html>


<script>


window.addEventListener("load", function(){
    let pageTurner = new PageTurner("pageTurnerElement", "pageTurnerPage", "pageTurnerNextButton","pageTurnerPreviousButton");
    pageTurner.init();
});

/**
 * 
 * 
 * 
 */
class PageTurner{
    constructor(pageTurnerClass, pageTurnerSequenceElement, pageTurnerNextButtonClass,pageTurnerPreviousButtonClass){
       // this.that = this;
        this.pageTurnerClass = pageTurnerClass;
        this.pageTurnerSequence = pageTurnerSequenceElement;
        this.pageTurnerNextButtonClass = pageTurnerNextButtonClass;
        this.pageTurnerPreviousButtonClass = pageTurnerPreviousButtonClass;
        this.init();
    }

    init(){
        this.elements = document.getElementsByClassName(this.pageTurnerClass);
        this.hideAllElements(this.elements);
        this.index = 0;

        let nextButtons     = document.getElementsByClassName(this.pageTurnerNextButtonClass);
        let previousButtons = document.getElementsByClassName(this.pageTurnerPreviousButtonClass);
        this.registerNextButtons(nextButtons);
        this.registerPreviousButtons(previousButtons);

        this.elements[0].style.display = "block";
    }

    hideAllElements(elements){
        console.log("Laenge: "+elements.length);
        for (let i=0;i<elements.length;i++) {
            let element = elements[i];
            console.log(element)
            element.style.display = "none";
        }
    }

    registerNextButtons(buttons){
        
        for(let i = 0;i<buttons.length;i++){
             let button = buttons[i];
             let that = this;
             button.onclick = function(){
               //  method.call();
                that.showNextElement();
             }
        }
    }

    registerPreviousButtons(buttons){
        
        for(let i = 0;i<buttons.length;i++){
             let button = buttons[i];
             let that = this;
             button.onclick = function(){
               //  method.call();
                that.showPreviousElement();
             }
        }
    }

    showNextElement(){
        console.log(this.index + "  " + this.elements.length)
        if(this.index >= this.elements.length){
            return false;
        }
        this.elements[this.index].style.display = "none";
        this.index += 1;
        this.elements[this.index].style.display = "block";
        return true;
    }

    showPreviousElement(){
        console.log(this.index + "  " + this.elements.length)
        if(this.index < 0){
            return false;
        }
        this.elements[this.index].style.display = "none";
        this.index -= 1;
        this.elements[this.index].style.display = "block";
        return true;
    }
}



</script>